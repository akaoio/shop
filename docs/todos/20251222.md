1. Khi tạo thêm từ vựng mới cho i18n, tuy hệ thống đã tự build ra file locale mới có kèm theo từ vựng mới nhưng web chưa tự cập nhật lại vì vẫn còn chứa cache của bản dịch cũ. Cần 1 cơ chế update cache ở mức sâu, tức là cục bộ cho từng locale. Cache liên quan đến cả indexeddb nên cần xử lý rất cẩn thận.

2. Một số route cần lấy thêm dữ liệu tùy thuộc vào params. Ví dụ route item/[slug] cần lấy data từ statics/items/[slug]. Cần một chuẩn để lưu và truy vấn dữ liệu cho đồng bộ, tránh việc lưu/truy xuất lộn xộn.

# PHƯƠNG ÁN HASHING:

## Kiến trúc mong muốn:

- Bất kỳ file json nào cũng phải có 1 file hash cùng thư mục với tên theo cấu trúc là <filename>.hash.json. Nội dung file <filename>.hash.json phải theo cấu trúc { hash }. Ví dụ file tên là asdf.json thì hash file tên là asdf.hash.json.

- Bất kỳ thư mục nào cũng sẽ phải chứa 1 file là hash.json theo cấu trúc { hash }, với giá trị là hash của tất cả các file hash trực thuộc nó và các file hash thuộc con cấp 1 của nó.

- Các hash này phục vụ việc client track sự thay đổi của thư mục hoặc tệp mà nó truy vấn ở cấp độ địa phương sâu nhất, giúp tiết kiệm băng thông và thời gian xử lý dữ liệu.

- Để hash được theo cách này, trước tiên phải xử lý xong hết việc build file json chứa dữ liệu. Sau bước này là không tạo thêm bất kỳ file json chứa dữ liệu nào. Khi hash thì ta hash từ cấp con sâu nhất lên dần. Đảm bảo tất cả các file json từ cấp sâu nhất có hash, sau đó mới tạo hash tổng đồng cấp (tức là cùng thư mục). Ví dụ thư mục A có asdf.json, thì tạo asdf.hash.json rồi mới tạo hash.json (là hash của asdf.hash.json)

- File hash bên ngoài là hash của các file hash đồng cấp, và các file hash của từng thư mục con trực thuộc. Ví dụ trong thư mục A có file asdf.json và thư mục B và C -> ta hash B và C -> rồi hash A là hash của asdf.hash.json, hash B và hash C. Nếu A thuộc Z, thì hash của Z là hash của hash A.